---
tags: 
title: WebGpu
date created: 2023-04-09
date modified: 2023-04-26
---

# WebGpu

2023.4.6 谷歌发布了 WebGpu ，这标志着浏览器Web图形有了曙光，和 [[WebGL]]的差距主要在于

1. 这是复杂场景的渲染性能对比。这个场景中有 1000 棵树，它们不是使用实例化绘制的，而是每一棵树都有一个 draw call，所以一个场景我要有 1000 多个 draw call。如果使用 WebGL 进行绘制的话，可以看到，使用 2070 显卡只能跑到 21FPS，而且每一帧的 CPU 时间需要 44 毫秒，但是同样用 WebGPU 来处理，可以跑到 123 帧，每一帧的 CPU 时间只有 0.1 毫秒，**这个是 WebGPU 和 WebGL 最大最显著的性能上的差距。*
2. *另外就是一个代码上的差距。**用 WebGL 原生 API 绘制的过程，所有的东西的起点都在于 Canvas；然而这是一件很不可思议的事情，就是即使不需要画什么东西，用户也需要创建一个 Canvas 元素，这个操作对于前端可能是无感知的，但是对于浏览器开发者来说就要新建一个 DOM 元素，要给它增加所有它需要有的东西，一旦 DOM 元素崩溃了，浏览器要处理所有这些事情，对于开发者而言后面的事情就会变得非常复杂。  
   但是 WebGPU 不是这样，WebGPU 的入口是 navigator.gpu，用户可以从这里获取到一个显卡，再从显卡获取到一个设备，而中间的 Canvas 是没有的。
