---
tags:
title: HTTP 2
date created: 2023-04-04
date modified: 2023-04-26
---

# HTTP 2

HTTP 成为标准后，一家独大了十多年。直至 Chrome 开发出自己的浏览器，推出新的 `SPDY协议` 并应用在自己的浏览器上。这倒逼 HTTP 以 [[SPDY 协议]] 为基础推出 HTTP 2 。

在性能改善上做出了很多努力：

- 变成二进制协议。
- 废弃 1.1 中的管道，引入了**二进制分帧层**,实现了多路复用,解决了队头堵塞问题

HTTP/2 使用了多路复用技术，可以将请求分成一帧一帧的数据去传输，这样带来了一个额外的好处，就是当收到一个优先级高的请求时，比如接收到 JavaScript 或者 CSS 关键资源的请求，服务器可以暂停之前的请求来优先处理关键资源的请求。

- 使用头部压缩算法，减少数据传输量（开发了“HPACK”算法，在客户端和服务器建立“字典”，用索引号表示重复的字符串，还采用哈夫曼编码来压缩整数和字符串，可以达到 **50%~90%** 的⾼压缩率。 ）
- 设置请求的优先级
- 增强了安全性（为了区分“加密”和“明文”这两个不同的版本，HTTP/2 协议定义了两个字符串标识符：“h2”表示加密的 HTTP/2，“h2c”表示明文的 HTTP/2，多出的那个字⺟“c”的意思是“clear text”）
- `服务器推送`  允许浏览器发送一个请求后，服务器主动向浏览器推送与这个请求相关的`资源`，这样浏览器就不用发起后续请求去获取一些`资源`。但是`Chrome106`版本禁用了，改为`103状态码`；
  - 服务器推送时，客户端的特点：
    - 客户端可以缓存推送的资源
    - 客户端可以拒收推送过来的资源
    - 服务器可以按照优先级推送资源
