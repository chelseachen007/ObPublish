---
tags:
title: 应用
date created: 2023-04-04
date modified: 2023-04-26
---

最少知识原则（LKP）说的是一个软件实体应当尽可能少地与其他实体发生相互作用。这里的软件实体是一个广义的概念，不仅包括对象，还包括系统、类、模块、函数、变量等。本节我们主要针对对象来说明这个原则，下面引用《面向对象设计原理与模式》一书中的例子来解释最少知识原则：

> 某军队中的将军需要挖掘一些散兵坑。下面是完成任务的一种方式：将军可以通知上校让他叫来少校，然后让少校找来上尉，并让上尉通知一个军士，最后军士唤来一个士兵，然后命令士兵挖掘一些散兵坑。  
> 这种方式十分荒谬，不是吗？不过，我们还是先来看一下这个过程的等价代码：

```javascript
gerneral
	.getColonel(c)
	.getMajor(m)
	.getCaptain(c)
	.getSergeant(s)
	.getPrivate(p)
	.digFoxhole();
```

**最少知识原则也叫迪米特法则（Law of Demeter，LoD），“迪米特”这个名字源自 1987 年美国东北大学一个名为“Demeter”的研究项目。**

# 应用

[[中介者模式]]很好地体现了最少知识原则。通过增加一个中介者对象，让所有的相关对象都通过中介者对象来通信，而不是互相引用。所以，当一个对象发生改变时，只需要通知中介者对象即可。

外观模式

## [[外观模式]]

外观模式的作用是对客户屏蔽一组子系统的复杂性。外观模式对客户提供一个简单易用的高层接口，高层接口会把客户的请求转发给子系统来完成具体的功能实现。大多数客户都可以通过请求外观接口来达到访问子系统的目的。但在一段使用了外观模式的程序中，请求外观并不是强制的。如果外观不能满足客户的个性化需求，那么客户也可以选择越过外观来直接访问子系统。

外观模式和最少知识原则之间的关系。外观模式的作用主要有两点。

- 为一组子系统提供一个简单便利的访问入口。
- 隔离客户与复杂子系统之间的联系，客户不用去了解子系统的细节。
